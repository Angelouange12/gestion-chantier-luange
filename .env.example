# ========================================
# DATABASE CONFIGURATION (Railway MySQL)
# ========================================
# Railway automatically provides these variables when you add a MySQL service
# You don't need to set these manually in Railway - they are auto-injected
# For local development, set your local MySQL credentials

DB_HOST=${MYSQLHOST:-localhost}
DB_PORT=${MYSQLPORT:-3306}
DB_USER=${MYSQLUSER:-root}
DB_PASSWORD=${MYSQLPASSWORD:-}
DB_NAME=${MYSQLDATABASE:-gestion_chantiers}

# Optional: Set to 'true' if Railway MySQL requires SSL (usually automatic)
DB_SSL=false

# ========================================
# JWT CONFIGURATION
# ========================================
# IMPORTANT: Generate a strong secret key for production
# You can use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_minimum_32_characters
JWT_EXPIRE=7d

# ========================================
# SERVER CONFIGURATION
# ========================================
# Railway automatically sets the PORT variable
PORT=5000
NODE_ENV=production

# ========================================
# CORS CONFIGURATION
# ========================================
# CRITICAL: After deploying, update this with your actual frontend URL
# Multiple origins: separate with commas
# Example: https://your-frontend.railway.app,https://custom-domain.com
ALLOWED_ORIGINS=https://your-frontend-domain.railway.app,http://localhost:3000,http://localhost:5173

# ========================================
# SECURITY & RATE LIMITING
# ========================================
# Window in milliseconds (900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window
RATE_LIMIT_MAX=100

# ========================================
# RAILWAY DEPLOYMENT NOTES
# ========================================
# 1. Create a new project on Railway
# 2. Add a MySQL database service (Railway will auto-set MYSQL* variables)
# 3. Deploy this backend and set the variables above in Railway dashboard
# 4. After backend deployment, get the backend URL
# 5. Deploy frontend with VITE_API_URL set to backend URL
# 6. Update ALLOWED_ORIGINS with the frontend URL
